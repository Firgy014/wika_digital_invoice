<odoo>
  <data>
    <!-- explicit list view definition -->
    <record id="mail_activity_todo_view_tree" model="ir.ui.view">
        <field name="name">mail.activity.todo.view.tree</field>
        <field name="model">mail.activity</field>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <tree string="Next Activities"
                    decoration-danger="date_deadline &lt; current_date"
                    decoration-success="date_deadline == current_date"
                    default_order="date_deadline" create="false" delete="0">
                <field name="res_name"/>
                <field name="nomor_po"/>
                  <field name="branch_id"/>
                <field name="project_id"/>
                <field name="conv_menu" invisible="1"/>
                <field name="conv_project" invisible="1"/>
                <field name="conv_division" invisible="1"/>
                <field name="activity_type_id" invisible="1"/>
                <field name="summary"/>
                <field name="date_deadline"/>
                <field name="is_expired" groups="base.group_no_one"/>
                <field name="user_id"/>
                <field name="status"/>
                <field name="res_model" invisible="1"/>
                <field name="res_model_name"/>
                <field name="res_id" invisible="1"/>
                <button name="action_open_document" string="Open Document"
                                type="object" class="oe_link" icon="fa-file-text-o"
                                attrs="{'invisible': ['|', ('res_model', '=', False), ('res_id', '=', 0)]}"/>

            </tree>
        </field>
    </record>

    <record id="mail_activity_todo_view_form" model="ir.ui.view">
        <field name="name">mail.activity.todo.view.form</field>
        <field name="model">mail.activity</field>
        <field name="arch" type="xml">
            <form string="Next Activities">
                <group>
                    <field name="res_name"/>
                    <field name="nomor_po"/>
                    <field name="activity_type_id"/>
                    <field name="summary"/>
                    <field name="date_deadline"/>
                    <field name="status"/>
                    <field name="res_model" invisible="1"/>
                    <field name="res_model_name"/>
                    <field name="res_id" invisible="1"/>
                </group>
            </form>
        </field>
    </record>
    <record id="mail_activity_view_search2" model="ir.ui.view">
        <field name="name">mail.activity.view.search2</field>
        <field name="model">mail.activity</field>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <search string="Activity">
                <field name="nomor_po"/>
                <field name="res_name"/>
                   <field name="conv_project"/>
                <field name="conv_division"/>
                <group expand="0" string="Group By">
                    <filter string="Menu" name="res_model_id" context="{'group_by': 'res_model_id'}"/>
                    <filter string="Nomor PO" name="no_po" context="{'group_by': 'nomor_po'}"/>
                    <filter string="Proyek" name="proyek_test" context="{'group_by': 'project_id'}"/>
                    <filter string="Divisi" name="proyek_test" context="{'group_by': 'branch_id'}"/>
                    <filter string="Status" name="status" context="{'group_by': 'status'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="todo_mail_activity_action" model="ir.actions.act_window">
        <field name="name">To Do List</field>
        <field name="res_model">mail.activity</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="mail_activity_todo_view_tree"/>
        <field name="search_view_id" ref="mail_activity_view_search2"/>

        <field name="domain">[('status', 'in', ['todo','to_approve'])]</field>
    </record>

  </data>
</odoo>