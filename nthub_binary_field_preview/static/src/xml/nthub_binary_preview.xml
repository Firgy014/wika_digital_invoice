<template xml:spacer="preserve">
    <t t-name="nthub_preview_image" owl="1">
        <!--        <button type="button" class="ks_binary_file_preview btn btn-secondary fa fa-eye text-primary"-->
        <!--                style="padding: 0px 3px;" title="Preview" aria-label="Pre view"-->
        <!--                t-on-click="ks_onAttachmentView"/>-->
        <t t-if="!props.readonly">
            <t t-if="props.value">
                <div class="w-100 d-inline-flex">
                    <FileUploader
                            acceptedFileExtensions="props.acceptedFileExtensions"
                            file="{ data: props.value, name: fileName }"
                            onUploaded.bind="update">
                        <t t-if="props.record.resId">
                            <img t-att-id="'img_'+props.name+'_'+props.record.resId"
                                 style="width:18px;height:18px;margin-top: 5px;cursor: zoom-in;display:none;border: 1.5px solid #01666b;"
                                 src=""/>
                            <img t-att-id="'btn_'+props.name+'_'+props.record.resId"
                                 src="nthub_binary_field_preview/static/src/js/upload.png"
                                 style="width:18px;height:18px;margin-top: 5px;cursor: pointer;display:none"
                                 title="Preview"
                                 aria-label="Pre view"
                                 t-on-click="(ev)=>this.onclick_pdf_preview(ev)"/>
                        </t>
                        <t t-else="">
                            <img t-att-id="'img_'+props.name+'_'+props.record.data.id"
                                 style="width:18px;height:18px;margin-top: 5px;cursor: zoom-in;display:none;border: 1.5px solid #01666b;"
                                 src=""/>
                            <img t-att-id="'btn_'+props.name+'_'+props.record.data.id"
                                 src="nthub_binary_field_preview/static/src/js/upload.png"
                                 style="width:18px;height:18px;margin-top: 5px;cursor: pointer;display:none"
                                 title="Preview"
                                 aria-label="Pre view"
                                 t-on-click="(ev)=>this.onclick_pdf_preview(ev)"/>
                        </t>
                        <t t-if="props.record.resId">
                            <button
                                    class="btn btn-secondary fa fa-download"
                                    data-tooltip="Download"
                                    aria-label="Download"
                                    t-on-click="onFileDownload"/>
                        </t>
                        <t t-set-slot="toggler">
                            <input type="text" class="o_input" t-att-value="fileName" readonly="readonly"/>
                            <button class="btn btn-secondary fa fa-pencil o_select_file_button"
                                    data-tooltip="Edit"
                                    aria-label="Edit"/>
                        </t>
                        <button
                                class="btn btn-secondary fa fa-trash o_clear_file_button"
                                data-tooltip="Clear"
                                aria-label="Clear"
                                t-on-click="() => this.update({})"/>
                    </FileUploader>
                </div>
            </t>
            <t t-else="">
                <label class="o_select_file_button btn btn-primary">
                    <FileUploader
                            acceptedFileExtensions="props.acceptedFileExtensions"
                            onUploaded.bind="update">
                        <t t-set-slot="toggler">
                            Upload your file
                        </t>
                    </FileUploader>
                </label>
            </t>
        </t>
        <t t-elif="props.record.resId and props.value">
            <div class="w-100 d-inline-flex">
                <img t-att-id="'img_'+props.name+'_'+props.record.resId"
                     style="width:18px;height:18px;margin-top: 5px;cursor: zoom-in;display:none;border: 1.5px solid #01666b;"
                     t-on-click="(ev)=>this.onclick_img_preview(ev)"/>

                <img t-att-id="'btn_'+props.name+'_'+props.record.resId"
                     src="nthub_binary_field_preview/static/src/js/upload.png"
                     style="width:18px;height:18px;margin-top: 5px;cursor: pointer;display:none" title="Preview"
                     aria-label="Pre view"
                     t-on-click="(ev)=>this.onclick_pdf_preview(ev)"/>
                <!--                <a class="o_form_uri" href="#" t-on-click.prevent="onFileDownload">-->
                <!--                    <span class="fa fa-download me-2"/>-->
                <!--                    <t t-if="state.fileName" t-esc="state.fileName"/>-->
                <!--                </a>-->
                <!--                <button-->
                <!--                        class="btn btn-secondary fa fa-download"-->
                <!--                        data-tooltip="Download"-->
                <!--                        aria-label="Download"-->
                <!--                        t-on-click="onFileDownload"/>-->
                <button type="button" class="btn btn-secondary fa fa-download"
                        data-tooltip="Download"
                        aria-label="Download"
                        t-on-click="(ev)=>this.onclick_download(ev)"/>
            </div>
        </t>
    </t>
</template>