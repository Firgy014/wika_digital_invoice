<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="inherit_documents_list" model="ir.ui.view">
            <field name="name">documents.list.inherit.wika</field>
            <field name="model">documents.document</field>
            <field name="inherit_id" ref="documents.documents_view_list"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="purchase_id" string="Nomor PO"/>
                    <field name="picking_id" string="Nomor GR/SES"/>
                    <field name="invoice_id" string="No Invoice"/>
                    <field name="bap_id"/>
                </xpath>
                <xpath expr="//field[@name='create_date']" position="after">
                    <field name="is_po_doc" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record id="documents_document_search_view_inherit_wika" model="ir.ui.view">
            <field name="name">Document search view Inherit Wika</field>
            <field name="model">documents.document</field>
            <field name="inherit_id" ref="documents.document_view_search"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='my_favorites_filter']" position="after">
                    <filter string="Purchase Orders Docs" name="custom_filter_purchase_documents" domain="[('purchase_id', '!=', False)]"/>
                    <separator/>
                </xpath>
            </field>
        </record>

        <record id="action_document_batch_compress" model="ir.actions.server">
            <field name="name">Compress PDF</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="binding_model_id" ref="documents.model_documents_document"/>
            <field name='groups_id' eval="[(4, ref('base.group_no_one'))]"/>
            <field name="state">code</field>
            <field name="code">
                if records:
                    action = records.compress_pdf()
            </field>
        </record>

    </data>
</odoo>
