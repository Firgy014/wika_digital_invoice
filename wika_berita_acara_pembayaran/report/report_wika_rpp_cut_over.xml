<odoo>

    <template id="report_wika_rpp_cut_over">
        <t t-foreach="docs" t-as="o">
        <t t-call="web.html_container">
            <t t-set="data_report_margin_top" t-value="8"/>
            <t t-set="data_report_header_spacing" t-value="9"/>
            <t t-set="data_report_dpi" t-value="110"/>

            <t t-call="web.internal_layout">
                <div class="page">
                    <div style="text-align: center; margin-top: 80px; font-size: 14px;">
                        <t t-if="o.currency_id.name != 'IDR'">
                            <h4>CUT OVER WORK PROGRESS RECAP (BAP CUT OVER)</h4>
                        </t>
                        <t t-if="o.currency_id.name == 'IDR'">
                            <h4>REKAP PROGRESS PEKERJAAN CUT OVER (BAP CUT OVER)</h4>
                        </t>
                    </div>
                    <div class="d-flex justify-content-center" style=" margin-top: 80px; width: 100%;">
                        <table class="table table-borderless" style="width:100%;">
                            <tbody>
                                <tr style="text-align: left;">
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Job</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Pekerjaan</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.job"/></td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Project</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Proyek</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.project_id.name"/></td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Number PO</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Nomor PO</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.po_id.name"/></td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Contract number</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Nomor Kontrak</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.sap_doc_number"/></td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Contract date</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Tanggal Kontrak</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.begin_date"/></td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Contract Value (exclude VAT)</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Nilai Kontrak (exlude PPN)</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.po_id.amount_untaxed)"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.po_id.amount_untaxed)"/>
                                        </t>
                                    </td>
                                </tr>
                                <tr style="text-align: left;">
                                    <td style="padding: 10px 1px 1px 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">Business Partner</t>
                                        <t t-if="o.currency_id.name == 'IDR'">Business Partner</t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.partner_id.name"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 50px;">
                        <style>
                            .table tbody th,
                            .table tbody td,
                            .table tbody p {
                                font-size: 14px; /* Sesuaikan ukuran teks yang diinginkan */
                            }
                        </style>
                        <table class="table table-borderless" style="width:100%">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <th scope="col" style="width: auto;"></th>
                                    <!-- <th scope="col" style="width: 14%;"></th> -->
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <!-- <th style="padding: 1px;" scope="row">1.</th>
                                    <td style="padding: 1px;"><strong>NILAI RETENSI</strong></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td> -->
                                </tr>
                                <tr>
                                    <!-- <th scope="row" style="padding: 1px;">1.1</th>
                                    <td style="padding: 1px;">Yang lalu</td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.last_retensi_total)"/></td> -->
                                </tr>
                                <tr>
                                    <!-- <th scope="row" style="padding: 1px;">1.2</th>
                                    <td style="padding: 1px;">Saat ini</td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="o.amount_pecentage_retensi"/>%</td>
                                    <td style="padding: 1px;">x</td>
                                    <td style="padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.total_amount) if o.total_amount else 0"/></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.retensi_total)"/></td> -->
                                </tr>
                                <tr>
                                    <!-- <th style="padding: 1px;" scope="row">1.3</th>
                                    <td style="padding: 1px;">S/d saat ini</td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.last_retensi_total + o.retensi_total)"/></td> -->
                                </tr>
                                <!-- <tr>
                                    <th style="padding: 1px;" scope="row">a</th>
                                    <td style="padding: 1px;">NILAI PRESTASI s/d saat ini</td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="'{:,.2f}'.format((o.total_amount / o.po_id.amount_untaxed) * 100) if o.total_amount > 0 else 0"/>%</td>
                                    <td style="padding: 1px;">x</td>
                                    <td style="padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.po_id.amount_untaxed) if o.po_id.amount_untaxed else ''"/></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;"><t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.total_amount)"/></td>
                                </tr> -->
                                <!-- <tr>
                                    <th style="padding: 1px;" scope="row">a</th>
                                    <td style="padding: 1px;">NILAI PRESTASI s/d saat ini</td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format((o.total_amount / o.po_id.amount_untaxed) * 100) if o.total_amount > 0 else 0"/>%
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format((o.total_amount / o.po_id.amount_untaxed) * 100) if o.total_amount > 0 else 0"/>%
                                        </t>
                                    </td>
                                    <td style="padding: 1px;">x</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.po_id.amount_untaxed) if o.po_id.amount_untaxed else ''"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.po_id.amount_untaxed) if o.po_id.amount_untaxed else ''"/>
                                        </t>
                                    </td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>.<t t-esc="'{:,.2f}'.format(o.total_amount)"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.total_amount)"/>
                                        </t>
                                    </td>
                                </tr> -->
                                <tr>
                                    <th style="padding: 1px;" scope="row">a</th>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <strong>ACHIEVEMENT VALUE to date</strong>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <strong>NILAI PRESTASI s/d saat ini</strong>
                                        </t>
                                    </td>
                                    <td style="padding: 1px;">:</td>
                                    <td style="padding: 1px;"><t t-esc="'{:,.2f}'.format((o.total_amount / o.po_id.amount_untaxed) * 100) if o.total_amount > 0 else 0"/>%</td>
                                    <td style="padding: 1px;">x</td>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.po_id.amount_untaxed) if o.po_id.amount_untaxed else ''"/>
                                        </t>
                                        <t t-else="">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.po_id.amount_untaxed) if o.po_id.amount_untaxed else ''"/>
                                        </t>
                                    </td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.total_amount)"/>
                                        </t>
                                        <t t-else="">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.total_amount)"/>
                                        </t>
                                    </td>
                                </tr>
                                <tr>
                                    <th style="padding: 1px;" scope="row">b</th>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <strong>Down payment deductions up to now</strong>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <strong>Potongan Uang Muka s/d saat ini</strong>
                                        </t>
                                    </td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.dp_total)"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.dp_total)"/>
                                        </t>
                                    </td>
                                </tr>
                                <t t-set="jumlah_total_netto" t-value="(o.total_amount - o.dp_total - o.retensi_total)"/>
                                <tr>
                                    <th style="padding: 1px;" scope="row">c</th>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <strong>Retention deductions up to now</strong>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <strong>Potongan Retensi s/d saat ini</strong>
                                        </t>
                                    </td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.2f}'.format(o.retensi_total)"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(o.retensi_total)"/>
                                        </t>
                                    </td>
                                </tr>
                                <!-- <t t-set="ppn" t-value="o.retensi_total * 0.11"/> -->
                                <tr>
                                    <th style="padding: 1px;" scope="row">d</th>
                                    <td style="padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <strong>Net Billing Amount to date</strong>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <strong>Jumlah Tagihan netto s/d saat ini</strong>
                                        </t>
                                    </td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="padding: 1px;"></td>
                                    <td style="text-align: right; padding: 1px;">=</td>
                                    <td style="text-align: right; padding: 1px;">
                                        <t t-if="o.currency_id.name != 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(jumlah_total_netto) if jumlah_total_netto else ''"/>
                                        </t>
                                        <t t-if="o.currency_id.name == 'IDR'">
                                            <t t-esc="o.currency_id.symbol"/>. <t t-esc="'{:,.0f}'.format(jumlah_total_netto) if jumlah_total_netto else ''"/>
                                        </t>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>       
                </div>
            </t>
        </t>
        </t>
    </template>
</odoo>
