<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Goods Receipt Action -->
         <record id="action_goods_receipt" model="ir.actions.act_window">
            <field name="name">Goods Receipt (GR)</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('picking_type_id.code', '=', 'incoming')]</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('wika_inventory.stock_picking_tree_wika')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('wika_inventory.stock_picking_form_wika')}),
            ]"/>
            <field name="context">{'default_wika_state': 'waits', 'default_picking_type_id': 1, 'default_immediate_transfer': True, 'default_pick_type': 'gr'}</field>
        </record>

        <!-- Goods Issue Action -->
        <record id="action_goods_issue" model="ir.actions.act_window">
            <field name="name">Goods Issue (GI)</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('picking_type_id.code', '=', 'outgoing')]</field>
            <field name="context">{'default_wika_state': 'waits', 'default_picking_type_id': 2, 'default_immediate_transfer': False, 'default_pick_type': 'gi'}</field>
        </record>

        <!-- Transfer Stock Action -->
        <!-- <record id="action_transfer_stock" model="ir.actions.act_window">
            <field name="name">Transfers Stock</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain"></field>
            <field name="context">{'contact_display': 'partner_address', 'default_company_id': allowed_company_ids[0]}</field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No transfer found. Let's create one!
                </p><p>
                    Transfers allow you to move products from one location to another.
                </p>
            </field>
        </record> -->
        <record id="action_transfer_stock" model="ir.actions.act_window">
            <field name="name">Transfer Stock</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('stock.vpicktree')}),
            ]"/>
            <field name="domain">[('picking_type_id.code', '=', 'internal')]</field>
            <field name="context">{'default_wika_state': 'waits', 'default_picking_type_id': 5, 'default_immediate_transfer': False, 'default_pick_type': 'ts'}</field>
        </record>

        <record id="action_reservation" model="ir.actions.act_window">
            <field name="name">Reservation</field>
            <field name="res_model">stock.move.line</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,pivot,form</field>
            <field name="view_id" ref="stock.view_move_line_tree"/>
            <field name="context">{'search_default_done': 1, 'create': 0}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_empty_folder">
                    There's no reservation yet
                </p><p>
                    This menu gives you the full traceability of inventory operations on a specific product.
                    You can filter on the product to see all the past movements for the product.
                </p>
            </field>
        </record>

        <record model="ir.actions.server" id="action_view_inventory_tree_wika"> <!-- Menu + python -->
            <field name="name">Stock Opname</field>
            <field name="model_id" ref="model_stock_quant"/>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4, ref('stock.group_stock_user'))]"/>
            <field name="code">
                action = model.action_view_inventory_wika()
            </field>
        </record>        

    </data>
</odoo>